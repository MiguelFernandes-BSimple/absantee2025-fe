@if (projectSelected){
@if(!isCreatingAssocProjCollabSignal()) {
<button data-test-id="create-assocCollabProj-button" (click)="projectSignalService.startCreateAssociation()">
    Add collaborator
</button>
} @else {
<app-add-collaborator-project [projectId]="projectSelected.id" />
}
<h1>{{projectSelected.title}}</h1>
}
@if(collaboratorSelected) {
@if(!isCreatingAssocCollabProjSignal()) {
<button [routerLink]="['collaborator/', collaboratorSelected.collabId]" data-test-id="create-assocProjCollab-button"
    (click)="collaboratorSignalService.startCreateAssociation()">
    Add project
</button>
}@else {
<app-add-collaborator-project [collaboratorId]="collaboratorSelected.collabId" />
}
<h1>{{collaboratorSelected.names}} {{collaboratorSelected.surnames}}</h1>
}
<table>
    <tr>
        @if (projectSelected) {
        <th>Email</th>
        }
        @if(collaboratorSelected) {
        <th>Acronym</th>
        }
        <th>Init Date</th>
        <th>Final Date</th>
        <th>Actions</th>
    </tr>
    @for (assoc of associations; track $index) {
    <tr>
        @if (projectSelected) {
        <td>{{assoc.collaboratorEmail}}</td>
        }
        @if(collaboratorSelected) {
        <td>{{assoc.projectAcronym}}</td>
        }
        <td>{{assoc.periodDate.initDate | date:'yyyy-MM-dd'}} </td>
        <td>{{assoc.periodDate.finalDate | date:'yyyy-MM-dd'}} </td>
        @if (projectSelected) {
        <td><button [routerLink]="['collaborators/details', assoc.collaboratorId]">Collaborator Details</button> </td>
        }
        @if(collaboratorSelected) {
        <td><button [routerLink]="['projects/details', assoc.projectId]">Project Details</button> </td>
        }
    </tr>
    }
</table>

@if (projectSelected && collaboratorSelected || collaboratorSelected && projectSelected) {
<router-outlet></router-outlet>
}