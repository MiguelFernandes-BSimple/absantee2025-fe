<br />
@if (project()){
@if(!isCreatingAssocProjCollabSignal()) {
<button data-test-id="create-assocCollabProj-button" (click)="projectSignalService.startCreateAssociation()">
    Add collaborator
</button>
} @else {
<app-add-collaborator-project [projectId]="project()!.id" />
}
<h1>{{project()!.title}}</h1>
}
@if(collaborator()) {
@if(!isCreatingAssocCollabProjSignal()) {
<button [routerLink]="['collaborator/', collaborator()!.collabId]" data-test-id="create-assocProjCollab-button"
    (click)="collaboratorSignalService.startCreateAssociation()">
    Add project
</button>
}@else {
<app-add-collaborator-project [collaboratorId]="collaborator()!.collabId" />
}
<h1>{{collaborator()!.names}} {{collaborator()!.surnames}}</h1>
}
<table>
    <tr>
        @if (project()) {
        <th>Email</th>
        }
        @if(collaborator()) {
        <th>Acronym</th>
        }
        <th>Init Date</th>
        <th>Final Date</th>
        <th>Actions</th>
    </tr>
    @for (assoc of associations; track $index) {
    <tr>
        @if (project()) {
        <td>{{assoc.collaboratorEmail}}</td>
        }
        @if(collaborator()) {
        <td>{{assoc.projectAcronym}}</td>
        }
        <td>{{assoc.periodDate.initDate | date:'yyyy-MM-dd'}} </td>
        <td>{{assoc.periodDate.finalDate | date:'yyyy-MM-dd'}} </td>
        @if (project()) {
        <td><button [routerLink]="['collaborators/details', assoc.collaboratorId]">Collaborator Details</button> </td>
        }
        @if(collaborator()) {
        <td><button [routerLink]="['projects/details', assoc.projectId]">Project Details</button> </td>
        }
    </tr>
    }
</table>

@if (project() && collaborator() || collaborator() && project()) {
<router-outlet></router-outlet>
}